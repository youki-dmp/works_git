# Job Analyzer アプリ設計書

## 1. 概要
ユーザーが受信した求人エージェントからのメール（またはそのリンク先）を解析し、ユーザーが事前に定義した「希望勤務条件」と照らし合わせて、応募すべきかどうかを自動判定・推奨するアプリケーションです。

## 2. アーキテクチャ

### 全体フロー
1.  **Input**: 求人情報の入力（メール本文のテキスト貼り付け、またはURL）。将来的にGmail API連携も想定。
2.  **Fetch/Parse**: テキストの正規化。URLの場合はWebサイトから本文を抽出（スクレイピング）。
3.  **Analyze**: LLM（Gemini等）を使用して、求人情報とユーザー条件を比較分析。
4.  **Output**: 判定結果（S/A/B/Cランク）、推奨理由、懸念点をレポートとして出力。

### コンポーネント構成
- **`config_loader`**: `requirements.md` (詳細な希望条件) を読み込む。
- **`content_fetcher`**: URLが入力された場合、そのページの内容を取得してテキスト化する。
- **`analyzer`**: LLMに「求人テキスト」と「希望条件」を渡し、適合度を判定させるプロンプトを生成・実行する。
- **`main.py`**: 全体を統括するスクリプト。

## 3. 使用技術 (予定)
- **言語**: Python 3.x
- **LLM**: Google Gemini API (安価で長文に強いため推奨)
- **ライブラリ**:
    - `requests`, `beautifulsoup4` (Webスクレイピング用)
    - `google-generativeai` (Gemini API用)
    - `pyyaml` または標準ライブラリ (設定読み込み用)

## 4. データ構造

### ユーザー条件 (`requirements.md`)
自然言語（Markdown）で記述することで、LLMがニュアンスまで理解できるようにします。
例：
- 「年収は最低800万円、できれば1000万円以上」
- 「フルリモート希望。週1出社なら許容範囲だが、それ以上はNG」
- 「レガシーな技術スタック（Strutsなど）は扱いたくない」

## 5. 今後の拡張性
- **Gmail Automation**: 定期的にメールボックスをスキャンして、良さげな求人だけをSlackやLINEに通知する機能。
- **Database**: 過去に判定した企業のログを残し、重複チェックを行う。
